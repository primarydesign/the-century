$(document).ready(function(){function e(e){$(".disclosure-container").removeClass("active"),$("#"+e).addClass("active"),$.fn.fullpage.setAllowScrolling(!1),$.fn.fullpage.setKeyboardScrolling(!1)}function i(e){$("#"+e).removeClass("active"),$.fn.fullpage.setAllowScrolling(!0),$.fn.fullpage.setKeyboardScrolling(!0)}function t(){$(".banner-container").each(function(){var e=$(this).height()+20;$(this).siblings(".caption").css("bottom",e)})}function n(){var e;e="600px"===$(".disclosure-container").css("max-width")?$("#section20 footer").height()+25:0,$(".disclosure-container").css("bottom",e)}function a(e){$index=e;for(var i=0;i<d.length;i++)$index>=d[i].min&&$index<=d[i].max&&$("#dynamic-header h2").text(d[i].title)}function s(e){$(".main-items > li").removeClass("active"),$(".sub-items > li").removeClass("active");for(var i=0;i<d.length;i++){if(e>=d[i].min&&e<=d[i].max){var t=d[i].min;$(".main-items > li").removeClass("active"),$(".ns-sect-"+t).parent().addClass("active")}if("undefined"!=typeof d[i].subs)for(var n=0;n<d[i].subs.length;n++){var a=d[i].subs[n].index;e==a&&($(".sub-items > li").removeClass("active"),$(".ns-sect-"+a).parent(".sub-items li").addClass("active"))}}}function l(){var e=$("[required]"),i=$(".field:not(.noval)"),t=$("[required].valid"),n=$(".field:not(.noval):not(.invalid)"),a=0;e.length!==t.length&&(a+=1),i.length!==n.length&&(a+=1),0===a?($(".submit").removeAttr("disabled"),console.log("clearance === 0")):($(".submit").attr("disabled",""),console.log("clearance !== 0"))}$("#fullpage").fullpage({autoScrolling:!0,fitToSection:!0,fixedElements:"#dynamic-header",keyboardScrolling:!0,loopHorizontal:!0,scrollOverflow:!0,slidesNavigation:!0,verticalCentered:!1,afterLoad:function(e,i){1===i?o=setInterval($.fn.fullpage.moveSlideRight,7e3):clearInterval(o)},onLeave:function(e,i,t){a(i),s(i)},afterRender:function(){t(),n()},afterResize:function(){t(),n()}}),$('[class^="open-"]').click(function(){var i=$(this).attr("class").match(/open-([\w\-]+)/)[1];e(i)}),$('[class^="close-"]').click(function(){var e=$(this).attr("class").match(/close-([\w\-]+)/)[1];i(e)}),$('[class^="ns-sect"]').click(function(){var e=$(this).attr("class");e=e.replace("ns-sect-",""),e=parseInt(e),$.fn.fullpage.moveTo(e)}),$(".move-down").click(function(){$.fn.fullpage.moveSectionDown()});var o,r="Penthouse "+$("body").attr("class").match(/penthouse(\d*\w?)/)[1].toUpperCase(),d=[{title:r,min:1,max:1},{title:r,min:2,max:7,subs:[{index:2},{index:3},{index:4},{index:5},{index:6},{index:7}]},{title:"Floor Plan",min:8,max:9},{title:"Property Features",min:10,max:16,subs:[{index:11},{index:12},{index:13},{index:14},{index:15},{index:16}]},{title:"Neighborhood",min:17,max:19,subs:[{index:17},{index:18},{index:19}]},{title:"Contact",min:20,max:20}],c={empty:"This cannot be left empty",email:"Enter a valid email address",phone:"Enter a valid phone number"},v={email:/[a-zA-Z0-9_.+\-]+@[a-zA-Z0-9]+(\.[a-zA-Z]+)+$/,phone:/^\(?([0-9]{3})\)?[\-. ]?([0-9]{3})[\-. ]?([0-9]{4})$/};$("#phone").focusout(function(){0===$(this).val().search(v.phone)?$(this).addClass("valid").removeClass("invalid").siblings(".error").text(""):$(this).addClass("invalid").removeClass("valid").siblings(".error").text(c.phone)}),$("[required]").focusout(function(){if(""!==$(this).val())if($(this).hasClass("noval"))$(this).addClass("valid").removeClass("invalid").siblings(".error").text("");else{var e=$(this).attr("id");0===$(this).val().search(v[e])?$(this).addClass("valid").removeClass("invalid").siblings(".error").text(""):$(this).addClass("invalid").removeClass("valid").siblings(".error").text(c[e])}else $(this).addClass("invalid").removeClass("valid").siblings(".error").text(c.empty)}),$(".field:not([required])").focusout(function(){0===$(this).val().length&&$(this).removeClass("invalid").siblings(".error").text("")}),$(".submit").mouseenter(function(){var e=$("[required]"),i=$(".field:not(.noval)"),t=$("[required].valid"),n=$(".field:not(.noval):not(.invalid)"),a=0;e.length!==t.length&&(a+=1),i.length!==n.length&&(a+=1),0===a?$(this).removeAttr("disabled"):$(this).attr("disabled","")}),$(".field").mouseleave(function(){l()}),$("#contact").on("submit",function(e){e.preventDefault(),$.ajax({type:"POST",url:"submit.php",data:$(this).serialize(),beforeSend:function(){$(".submit").attr("disabled","").val("SENDING...")},success:function(){$(".submit").val("THANK YOU")},error:function(){$(".submit").removeAttr("disabled")}})})});